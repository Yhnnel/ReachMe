{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/logo.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-6f83b81c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"signupdiv\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"signuplogo\",\n  src: _imports_0,\n  alt: \"logo.png\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"hasLabel\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"none\",\n  selected: \"\"\n}, \"-Select Gender-\", -1 /* HOISTED */));\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"male\"\n}, \"Male\", -1 /* HOISTED */));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"female\"\n}, \"Female\", -1 /* HOISTED */));\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"other\"\n}, \"other\", -1 /* HOISTED */));\nconst _hoisted_12 = [_hoisted_8, _hoisted_9, _hoisted_10, _hoisted_11];\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", null, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Sign Up\")], -1 /* HOISTED */));\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", null, \"Already have an account?\", -1 /* HOISTED */));\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", null, [/*#__PURE__*/_createElementVNode(\"b\", null, \"Log in\")], -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"form\", {\n    enctype: \"application/x-www-form-urlencoded\",\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $setup.submitSignUp && $setup.submitSignUp(...args), [\"prevent\"]))\n  }, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Firstname\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.fname = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.fname]]), _hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Middlename\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.mname = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.mname]]), _hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Lastname\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.lname = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.lname]]), _hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    placeholder: \"Birthday\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.bday = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.bday]]), _hoisted_7, _withDirectives(_createElementVNode(\"select\", {\n    name: \"gender\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.gender = $event),\n    required: \"\"\n  }, _hoisted_12, 512 /* NEED_PATCH */), [[_vModelSelect, $setup.gender]]), _hoisted_13]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"tel\",\n    placeholder: \"Phone number\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.pnum = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.pnum]]), _hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.email]]), _hoisted_15, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.pass = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.pass]]), _hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    placeholder: \"Confirm password\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.confpass = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.confpass]]), _hoisted_17, _hoisted_18, _createVNode(_component_router_link, {\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [_hoisted_19]),\n    _: 1 /* STABLE */\n  })], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"mappings":";OAGgCA,UAAwB;;;EAFjDC,KAAK,EAAC;AAAW;gEAEhBC,oBAAgE;EAA3DD,KAAK,EAAC,YAAY;EAACE,GAAwB,EAAxBH,UAAwB;EAACI,GAAG,EAAC;;gEACeF,oBAAI;gEACZA,oBAAI;gEACGA,oBAAI;;EAClED,KAAK,EAAC;AAAU;gEACiDC,oBAAI;gEAElEA,oBAAsD;EAA9CG,KAAK,EAAC,MAAM;EAACC,QAAQ,EAAR;GAAS,iBAAe;gEAC7CJ,oBAAkC;EAA1BG,KAAK,EAAC;AAAM,GAAC,MAAI;iEACzBH,oBAAsC;EAA9BG,KAAK,EAAC;AAAQ,GAAC,QAAM;iEAC7BH,oBAAoC;EAA5BG,KAAK,EAAC;AAAO,GAAC,OAAK;qBAH3BE,UAAsD,EACtDC,UAAkC,EAClCC,WAAsC,EACtCC,WAAoC;iEAC/BR,oBAAI;iEAE2CA,oBAAI;iEACCA,oBAAI;iEACCA,oBAAI;iEAE1EA,oBAA+B,8BAAvBA,oBAAc,WAAX,SAAO;iEAClBA,oBAA+B,WAA5B,0BAAwB;iEACFA,oBAA8B,8BAAtBA,oBAAa,WAAV,QAAM;;;;uBArBhDS,oBAuBI,OAvBJC,UAuBI,GAtBFV,oBAqBO;IArBDW,OAAO,EAAC,mCAAmC;IAAEC,QAAM,wDAAUC,mDAAY;MAC3EC,UAAgE,kBAChEd,oBAAoE;IAA7De,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,WAAW;+DAAUH,YAAK;IAAEI,QAAQ,EAAR;iDAAPJ,YAAK,KAAWK,UAAI,kBACxElB,oBAA4D;IAArDe,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,YAAY;+DAAUH,YAAK;iDAALA,YAAK,KAAEM,UAAI,kBAChEnB,oBAAmE;IAA5De,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,UAAU;+DAAUH,YAAK;IAAEI,QAAQ,EAAR;iDAAPJ,YAAK,KAAWO,UAAI,EACvEpB,oBAQM,OARNqB,UAQM,mBAPFrB,oBAAkE;IAA3De,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,UAAU;+DAAUH,WAAI;IAAEI,QAAQ,EAAR;iDAANJ,WAAI,KAAWS,UAAI,kBACtEtB,oBAKS;IALDuB,IAAI,EAAC,QAAQ;+DAAUV,aAAM;IAAEI,QAAQ,EAAR;0DAARJ,aAAM,KAK5BW,WAAI,oBAEjBxB,oBAA4D;IAArDe,IAAI,EAAC,KAAK;IAACC,WAAW,EAAC,cAAc;+DAAUH,WAAI;iDAAJA,WAAI,KAAEY,WAAI,kBAChEzB,oBAAiE;IAA1De,IAAI,EAAC,OAAO;IAACC,WAAW,EAAC,OAAO;+DAAUH,YAAK;IAAEI,QAAQ,EAAR;iDAAPJ,YAAK,KAAWa,WAAI,kBACrE1B,oBAAsE;IAA/De,IAAI,EAAC,UAAU;IAACC,WAAW,EAAC,UAAU;+DAAUH,WAAI;IAAEI,QAAQ,EAAR;iDAANJ,WAAI,KAAWc,WAAI,kBAC1E3B,oBAAkF;IAA3Ee,IAAI,EAAC,UAAU;IAACC,WAAW,EAAC,kBAAkB;+DAAUH,eAAQ;IAAEI,QAAQ,EAAR;iDAAVJ,eAAQ,KACvEe,WAA+B,EAC/BC,WAA+B,EAC/BC,aAAqEC;IAAxDC,EAAE,EAAC;EAAQ;sBAAC,MAA8B,CAA9BC,WAA8B","names":["_imports_0","class","_createElementVNode","src","alt","value","selected","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createElementBlock","_hoisted_1","enctype","onSubmit","$setup","_hoisted_2","type","placeholder","required","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","name","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_createVNode","_component_router_link","to","_hoisted_19"],"sourceRoot":"","sources":["C:\\Users\\j.aninon\\Desktop\\YHNNEL\\MINI_FACEBOOK\\frontend\\src\\views\\SignUp.vue"],"sourcesContent":["<template>\r\n  <div class=\"signupdiv\">\r\n    <form enctype=\"application/x-www-form-urlencoded\" @submit.prevent=\"submitSignUp\">\r\n        <img class=\"signuplogo\" src=\"../assets/logo.png\" alt=\"logo.png\">\r\n        <input type=\"text\" placeholder=\"Firstname\" v-model=\"fname\" required><br>\r\n        <input type=\"text\" placeholder=\"Middlename\" v-model=\"mname\"><br>\r\n        <input type=\"text\" placeholder=\"Lastname\" v-model=\"lname\" required><br>\r\n        <div class=\"hasLabel\">\r\n            <input type=\"date\" placeholder=\"Birthday\" v-model=\"bday\" required><br>\r\n            <select name=\"gender\" v-model=\"gender\" required>\r\n                <option value=\"none\" selected>-Select Gender-</option>\r\n                <option value=\"male\">Male</option>\r\n                <option value=\"female\">Female</option>\r\n                <option value=\"other\">other</option>\r\n            </select><br>\r\n        </div>\r\n        <input type=\"tel\" placeholder=\"Phone number\" v-model=\"pnum\"><br>\r\n        <input type=\"email\" placeholder=\"Email\" v-model=\"email\" required><br>\r\n        <input type=\"password\" placeholder=\"Password\" v-model=\"pass\" required><br>\r\n        <input type=\"password\" placeholder=\"Confirm password\" v-model=\"confpass\" required>\r\n        <button><b>Sign Up</b></button>\r\n        <p>Already have an account?</p>\r\n        <router-link to=\"/login\"><button><b>Log in</b></button></router-link> \r\n    </form>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router';\r\nimport API from '../api';\r\nimport { ref } from 'vue';\r\n\r\nexport default {\r\n    setup() {\r\n        const users = ref(null)\r\n        const updatedUsers = ref(null)\r\n        const userData = ref(null)\r\n        const fname = ref(null)\r\n        const mname = ref(null)\r\n        const lname = ref(null)\r\n        const bday = ref(null)\r\n        const gender = ref(null)\r\n        const pnum = ref(null)\r\n        const email = ref(null)\r\n        const pass = ref(null)\r\n        const confpass = ref(null)\r\n\r\n        /*\r\n        const getUserData = async () => {\r\n            try{\r\n                let Fname = fname.value;\r\n                let Mname = mname.value;\r\n                let Lname = lname.value;\r\n                let Pass = pass.value;\r\n                let Bday = bday.value;\r\n                let Gender = gender.value;\r\n                let Email = email.value;\r\n                let Pnum = pnum.value; \r\n\r\n                let data = {\r\n                    firstname: fname,\r\n                    middlename: mname,\r\n                    lastname: lname,\r\n                    password: confpass,\r\n                    birthday: bday,\r\n                    gender: gender,\r\n                    email: email,\r\n                    phonenumber: pnum,\r\n                }\r\n                userData.value = await data;\r\n            }\r\n            catch(err){\r\n                console.log(err)\r\n            }\r\n                \r\n        }\r\n        getUserData()\r\n        */\r\n\r\n        const getAllUser = async () => {\r\n            try{\r\n                let data = await API.getAllUser();\r\n                users.value = await data;\r\n            }\r\n            catch(err){\r\n                console.log(err)\r\n            }\r\n                \r\n        }\r\n        getAllUser()    \r\n        const submitSignUp = async () => {\r\n            console.log(users.value)\r\n            let Fname = fname.value;\r\n            let Mname = mname.value;\r\n            let Lname = lname.value;\r\n            let Pass = pass.value;\r\n            let Bday = bday.value;\r\n            let Gender = gender.value;\r\n            let Email = email.value;\r\n            let Pnum = pnum.value;  \r\n            try{\r\n                let isEmailUsed = false;\r\n                let isPassMatched = false;\r\n                let userId = null;\r\n\r\n                for(let i=0; i<users.value.length; i++){\r\n                    if(email !== undefined){\r\n                        if(users.value[i].email == email.value){\r\n                            console.log(\"email already in use\");\r\n                            isEmailUsed = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if(pass.value == confpass.value){\r\n                    isPassMatched = true;\r\n                }\r\n                else{\r\n                    console.log(\"password doesn't match\")\r\n                }\r\n                if(!isEmailUsed && isPassMatched){\r\n                    let data = {\r\n                        firstname: Fname,\r\n                        middlename: Mname,\r\n                        lastname: Lname,\r\n                        password: Pass,\r\n                        birthday: Bday,\r\n                        gender: Gender,\r\n                        email: Email,\r\n                        phonenumber: Pnum,\r\n                    }\r\n                    userData.value = await data;\r\n                    console.log(userData.value)\r\n                    const res = await API.createUser(userData.value)\r\n                    let updatedData = await API.getAllUser();\r\n                    updatedUsers.value = await updatedData;\r\n                    console.log(updatedUsers.value)\r\n                    for(let i=0; i<updatedUsers.value.length; i++){\r\n                        if(email !== undefined){\r\n                            if(updatedUsers.value[i].email == email.value){\r\n                                userId = updatedUsers.value[i]._id.toString();\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    console.log(userId);\r\n                    router.push({name: \"Home\"}); \r\n                }\r\n            }\r\n            catch(err){\r\n                console.log(err)\r\n            }\r\n        }\r\n\r\n        return { fname, mname, lname, bday, gender, pnum, email, pass, confpass, userData, submitSignUp };        \r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .signupdiv {\r\n        max-width: 600px;\r\n        height: 900px;\r\n        margin: 20px auto;\r\n        background: rgb(80, 112, 80);\r\n        border-radius: 10px;\r\n    }\r\n\r\n    form {\r\n        max-width: 400px;\r\n        max-height: 750px;\r\n        margin: 30px auto;\r\n        text-align: center;\r\n        background: rgb(167, 238, 167);\r\n        padding: 40px;\r\n        border-radius: 10px;\r\n        display: inline-block;\r\n        box-shadow: 5px 10px #888888;\r\n    }\r\n\r\n    select {\r\n        font-size: 15px;\r\n        width: 370px;\r\n        padding: 10px;\r\n        margin: 10px auto;\r\n        padding-right: 50px;\r\n        border-radius: 10px;\r\n        color: rgb(75, 75, 75);\r\n        border-style: none;\r\n        border-color: aquamarine;\r\n    }\r\n\r\n    input {\r\n        font-size: 15px;\r\n        width: 350px;\r\n        padding: 10px;\r\n        margin: 10px auto;\r\n        border-radius: 10px;\r\n        color: rgb(75, 75, 75);\r\n        border-style: none;\r\n        border-color: aquamarine;\r\n    }\r\n\r\n    button {\r\n        width: 100px;\r\n        color: #ffffffe1;\r\n        font-size: 15px;\r\n        padding: 10px;\r\n        margin-top: 20px;\r\n        border-style: none;\r\n        background: grey;\r\n        border-color: aquamarine;\r\n        border-radius: 20px;\r\n    }\r\n    p {\r\n        color:#686868e1;\r\n        margin-bottom: -10px;\r\n        padding-bottom: -10px;\r\n        font-size: 15px;\r\n    }\r\n\r\n    .signuplogo {\r\n        width: 200px;\r\n        margin: 10px auto;\r\n        border-radius: 10px;\r\n    }\r\n\r\n    .hasLabel{\r\n        font-size: 15px;\r\n        width: 350px;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}